<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>NaamJap Counter</title>

<style>
:root {
  --bg: #f5f5f5;
  --card: #ffffff;
  --text: #000000;
  --primary: #ff9800;
}

.dark {
  --bg: #121212;
  --card: #1e1e1e;
  --text: #ffffff;
}

body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}

header {
  padding: 16px;
  text-align: center;
  font-size: 20px;
  font-weight: bold;
  background: var(--primary);
  color: white;
}

.page {
  display: none;
  padding: 16px;
}

.page.active {
  display: block;
}

.card {
  background: var(--card);
  padding: 16px;
  margin-bottom: 12px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  cursor: pointer;
}

.counts {
  font-size: 14px;
  opacity: 0.7;
}

.tap-area {
  height: 300px;
  background: var(--card);
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  margin-top: 20px;
}

.bottom-nav {
  position: fixed;
  bottom: 0;
  width: 100%;
  display: flex;
  background: var(--card);
  border-top: 1px solid #ccc;
}

.bottom-nav button {
  flex: 1;
  padding: 12px;
  border: none;
  background: none;
  font-size: 16px;
  cursor: pointer;
}

select, input {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
}
</style>
</head>

<body>

<header>NaamJap Counter</header>

<!-- HOME -->
<div id="home" class="page active"></div>

<!-- ANALYTICS -->
<div id="analytics" class="page">
  <h3>Analytics</h3>
  <table border="1" width="100%">
    <tr><th>Date</th><th>Naam</th><th>Count</th></tr>
    <tbody id="analyticsTable"></tbody>
  </table>
</div>

<!-- SETTINGS -->
<div id="settings" class="page">
  <h3>Settings</h3>

  <label>Language</label>
  <select id="languageSelect">
    <option value="en">English</option>
    <option value="mr">Marathi</option>
    <option value="or">Odia</option>
  </select>

  <label style="margin-top:15px;">Theme</label>
  <select id="themeSelect">
    <option value="light">Light</option>
    <option value="dark">Dark</option>
  </select>
</div>

<!-- CHANT PAGE -->
<div id="chant" class="page"></div>

<!-- BOTTOM NAV -->
<div class="bottom-nav">
  <button onclick="showPage('home')">Home</button>
  <button onclick="showPage('analytics')">Analytics</button>
  <button onclick="showPage('settings')">Settings</button>
</div>

<script>
const naamData = {
  "Radha Naam": { en:"Radha Radha", mr:"राधा राधा", or:"ରାଧା ରାଧା" },
  "Krishna Naam": { en:"Krishna Krishna", mr:"कृष्ण कृष्ण", or:"କୃଷ୍ଣ କୃଷ୍ଣ" },
  "Raam Naam": { en:"Ram Ram", mr:"राम राम", or:"ରାମ ରାମ" },
  "Hare Krishna MahaMantra": {
    en:"Hare Krishna Hare Krishna Krishna Krishna Hare Hare\nHare Ram Hare Ram Ram Ram Hare Hare",
    mr:"हरे कृष्ण हरे कृष्ण कृष्ण कृष्ण हरे हरे\nहरे राम हरे राम राम राम हरे हरे",
    or:"ହରେ କୃଷ୍ଣ ହରେ କୃଷ୍ଣ କୃଷ୍ଣ କୃଷ୍ଣ ହରେ ହରେ\nହରେ ରାମ ହରେ ରାମ ରାମ ରାମ ହରେ ହରେ"
  },
  "Ram Krishna Hari": { en:"Ram Krishna Hari", mr:"राम कृष्ण हरी", or:"ରାମ କୃଷ୍ଣ ହରି" },
  "SitaRam": { en:"Sita Ram", mr:"सीता राम", or:"ସୀତା ରାମ" },
  "RadhaKrishna": { en:"Radha Krishna", mr:"राधा कृष्ण", or:"ରାଧା କୃଷ୍ଣ" }
};

let state = JSON.parse(localStorage.getItem("naamState")) || {};
let lang = localStorage.getItem("lang") || "en";

function save() {
  localStorage.setItem("naamState", JSON.stringify(state));
}

function showPage(id) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function renderHome() {
  const home = document.getElementById("home");
  home.innerHTML = "";

  Object.keys(naamData).forEach(name => {
    if (!state[name]) state[name] = { daily:0, total:0 };

    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <strong>${name}</strong>
      <div class="counts">Today: ${state[name].daily} | Total: ${state[name].total}</div>
    `;
    card.onclick = () => openChant(name);
    home.appendChild(card);
  });

  save();
}

function openChant(name) {
  const chant = document.getElementById("chant");
  chant.innerHTML = `
    <h2>${naamData[name][lang].replace(/\n/g,"<br>")}</h2>
    <div class="tap-area" onclick="increment('${name}')">Tap to Chant</div>
    <p>Today: ${state[name].daily}</p>
    <p>Total: ${state[name].total}</p>
  `;
  showPage("chant");
}

function increment(name) {
  state[name].daily++;
  state[name].total++;
  save();
  openChant(name);
}

document.getElementById("languageSelect").value = lang;
document.getElementById("languageSelect").onchange = e => {
  lang = e.target.value;
  localStorage.setItem("lang", lang);
  renderHome();
};

document.getElementById("themeSelect").onchange = e => {
  document.body.classList.toggle("dark", e.target.value === "dark");
};

renderHome();
</script>

</body>
</html>
